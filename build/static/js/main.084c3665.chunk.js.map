{"version":3,"sources":["components/Header.jsx","config/axios.js","redux/productosDucks.js","components/Producto.jsx","components/Productos.jsx","redux/alertasDucks.js","components/NuevoProducto.jsx","components/EditarProducto.jsx","App.js","redux/store.js","index.js"],"names":["Header","className","to","clienteAxios","axios","create","baseURL","process","initialState","productos","error","loading","productoEliminar","productoEditar","AGREGAR_PRODUCTO","AGREGAR_PRODUCTO_EXITO","AGREGAR_PRODUCTO_ERROR","COMENZAR_DESCARGA_PRODUCTOS","DESCARGA_PRODUCTOS_EXITO","DESCARGA_PRODUCTOS_ERROR","OBTENER_PRODUCTO_ELIMINAR","ELIMINAR_PRODUCTO_EXITO","ELIMINAR_PRODUCTO_ERROR","OBTENER_PRODUCTO_EDITADO","EDITAR_PRODUCTO_EXITO","EDITAR_PRODUCTO_ERROR","Producto","producto","nombre","precio","id","dispatch","useDispatch","history","useHistory","handleButton","Swal","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","a","type","payload","delete","borrarProductoAction","redireccionarEdicion","obtenerProductoEditar","push","onClick","Productos","React","useEffect","get","respuesta","data","useSelector","store","cargando","scope","length","map","item","alerta","MOSTRAR_ALERTA","OCULTAR_ALERTA","NuevoProducto","useState","setNombre","setPrecio","alertas","agregarProducto","getState","post","crearNuevoProductoAction","submitNuevoProducto","e","preventDefault","trim","mostrarAlertaAction","msg","classes","uuidv4","onSubmit","htmlFor","placeholder","name","value","onChange","target","min","Number","EditarProducto","setProductoEditar","put","editarProductoAction","App","exact","path","component","rootReducer","combineReducers","state","action","filter","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.084c3665.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary justify-ccontent-between\">\r\n      <div className=\"container\">\r\n        <h1 className=\"text-light\">\r\n          <Link to=\"/\" className=\"text-light\">\r\n            CRUD React, Redux, REST API & Axios\r\n          </Link>\r\n        </h1>\r\n        <Link\r\n          className=\"btn btn-danger nuevo-post d-block w-100 d-md-inline-block\"\r\n          to=\"/productos/nuevo\"\r\n        >\r\n          Agregar Producto &#43;\r\n        </Link>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import axios from \"axios\";\r\n\r\nconst clienteAxios = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL,\r\n});\r\n\r\nexport default clienteAxios;\r\n","import clienteAxios from \"../config/axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n//constantes\r\nconst initialState = {\r\n  productos: [],\r\n  error: null,\r\n  loading: false,\r\n  productoEliminar: null,\r\n  productoEditar: null,\r\n};\r\n\r\n//types\r\nconst AGREGAR_PRODUCTO = \"AGREGAR_PRODUCTO\";\r\nconst AGREGAR_PRODUCTO_EXITO = \"AGREGAR_PRODUCTO_EXITO\";\r\nconst AGREGAR_PRODUCTO_ERROR = \"AGREGAR_PRODUCTO_ERROR\";\r\n\r\nconst COMENZAR_DESCARGA_PRODUCTOS = \"COMENZAR_DESCARGA_PRODUCTOS\";\r\nconst DESCARGA_PRODUCTOS_EXITO = \"DESCARGA_PRODUCTOS_EXITO\";\r\nconst DESCARGA_PRODUCTOS_ERROR = \"DESCARGA_PRODUCTOS_ERROR\";\r\n\r\nconst OBTENER_PRODUCTO_ELIMINAR = \"OBTENER_PRODUCTO_ELIMINAR\";\r\nconst ELIMINAR_PRODUCTO_EXITO = \"ELIMINAR_PRODUCTO_EXITO\";\r\nconst ELIMINAR_PRODUCTO_ERROR = \"ELIMINAR_PRODUCTO_ERROR\";\r\n\r\nconst OBTENER_PRODUCTO_EDITADO = \"OBTENER_PRODUCTO_EDITADO\";\r\nconst COMENZAR_EDICION_PRODUCTO = \"COMENZAR_EDICION_PRODUCTO\";\r\nconst EDITAR_PRODUCTO_EXITO = \"EDITAR_PRODUCTO_EXITO\";\r\nconst EDITAR_PRODUCTO_ERROR = \"EDITAR_PRODUCTO_ERROR\";\r\n\r\n//reducer\r\nexport default function productosReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case COMENZAR_DESCARGA_PRODUCTOS:\r\n    case AGREGAR_PRODUCTO:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n        productoEliminar: null,\r\n        productoEditar: null,\r\n      };\r\n    case AGREGAR_PRODUCTO_EXITO:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        productos: [...state.productos, action.payload],\r\n        error: null,\r\n        productoEliminar: null,\r\n        productoEditar: null,\r\n      };\r\n    case EDITAR_PRODUCTO_ERROR:\r\n    case ELIMINAR_PRODUCTO_ERROR:\r\n    case DESCARGA_PRODUCTOS_ERROR:\r\n    case AGREGAR_PRODUCTO_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n        productoEliminar: null,\r\n        productoEditar: null,\r\n      };\r\n    case DESCARGA_PRODUCTOS_EXITO:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        productos: action.payload,\r\n        productoEliminar: null,\r\n        productoEditar: null,\r\n      };\r\n\r\n    case OBTENER_PRODUCTO_ELIMINAR:\r\n      return {\r\n        ...state,\r\n        productoEliminar: action.payload,\r\n      };\r\n    case ELIMINAR_PRODUCTO_EXITO:\r\n      return {\r\n        ...state,\r\n        productos: state.productos.filter(\r\n          (producto) => producto.id !== state.productoEliminar\r\n        ),\r\n        productoEliminar: null,\r\n        productoEditar: null,\r\n      };\r\n    case OBTENER_PRODUCTO_EDITADO:\r\n      return {\r\n        ...state,\r\n        productoEditar: action.payload,\r\n      };\r\n    case EDITAR_PRODUCTO_EXITO:\r\n      return {\r\n        ...state,\r\n        productos: state.productos.map((item) =>\r\n          item.id === action.payload.id ? (item = action.payload) : item\r\n        ),\r\n        productoEditar: null,\r\n        productoEliminar: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n//acciones\r\n\r\n//CREAR NUEVOS PRODUCTOS\r\nexport const crearNuevoProductoAction =\r\n  (producto) => async (dispatch, getState) => {\r\n    dispatch({\r\n      type: AGREGAR_PRODUCTO,\r\n      payload: true,\r\n    });\r\n\r\n    try {\r\n      const { productos } = getState().productos;\r\n\r\n      productos.push(producto);\r\n\r\n      await clienteAxios.post(\"/productos\", producto);\r\n\r\n      dispatch({\r\n        type: AGREGAR_PRODUCTO_EXITO,\r\n        payload: producto,\r\n      });\r\n\r\n      Swal.fire(\"Correcto\", \"El producto se agrego correctamente\", \"success\");\r\n    } catch (error) {\r\n      //console.log(error);\r\n      dispatch({\r\n        type: AGREGAR_PRODUCTO_ERROR,\r\n        payload: true,\r\n      });\r\n\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Hubo un error\",\r\n        text: \"Hubo un error, intenta de nuevo\",\r\n      });\r\n    }\r\n  };\r\n\r\n//descargar los productos de la base de datos\r\nexport const obtenerProductosAction = () => async (dispatch) => {\r\n  dispatch({\r\n    type: COMENZAR_DESCARGA_PRODUCTOS,\r\n    payload: true,\r\n  });\r\n\r\n  try {\r\n    const respuesta = await clienteAxios.get(\"/productos\");\r\n    dispatch({\r\n      type: DESCARGA_PRODUCTOS_EXITO,\r\n      payload: respuesta.data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: DESCARGA_PRODUCTOS_ERROR,\r\n      payload: true,\r\n    });\r\n  }\r\n};\r\n\r\n//eliminar los productos\r\nexport const borrarProductoAction = (id) => async (dispatch) => {\r\n  dispatch({\r\n    type: OBTENER_PRODUCTO_ELIMINAR,\r\n    payload: id,\r\n  });\r\n\r\n  try {\r\n    await clienteAxios.delete(`/productos/${id}`);\r\n\r\n    dispatch({\r\n      type: ELIMINAR_PRODUCTO_EXITO,\r\n    });\r\n\r\n    Swal.fire(\"Eliminado!\", \"El producto se elimino correctamente\", \"success\");\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ELIMINAR_PRODUCTO_ERROR,\r\n      payload: true,\r\n    });\r\n  }\r\n};\r\n\r\n//editar producto\r\nexport const obtenerProductoEditar = (producto) => (dispatch) => {\r\n  dispatch({\r\n    type: OBTENER_PRODUCTO_EDITADO,\r\n    payload: producto,\r\n  });\r\n};\r\n\r\nexport const editarProductoAction = (producto) => async (dispatch) => {\r\n  dispatch({\r\n    type: COMENZAR_EDICION_PRODUCTO,\r\n  });\r\n\r\n  try {\r\n    await clienteAxios.put(\r\n      `/productos/${producto.id}`,\r\n      producto\r\n    );\r\n    dispatch({\r\n      type: EDITAR_PRODUCTO_EXITO,\r\n      payload: producto,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: EDITAR_PRODUCTO_ERROR,\r\n      payload: true,\r\n    });\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  borrarProductoAction,\r\n  obtenerProductoEditar,\r\n} from \"../redux/productosDucks\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst Producto = ({ producto }) => {\r\n  const { nombre, precio, id } = producto;\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleButton = (id) => {\r\n    Swal.fire({\r\n      title: \"Estas Seguro?\",\r\n      text: \"Un producto que se elimina no se puede recuperar\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Si, Eliminar!\",\r\n      cancelButtonText: \"Cancelar\",\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        dispatch(borrarProductoAction(id));\r\n      }\r\n    });\r\n  };\r\n\r\n  const redireccionarEdicion = (producto) => {\r\n    dispatch(obtenerProductoEditar(producto));\r\n    history.push(`/productos/editar/${producto.id}`);\r\n  };\r\n\r\n  return (\r\n    <tr key={id}>\r\n      <td>{nombre}</td>\r\n      <td>\r\n        <span className=\"font-weight-bold\">$ {precio} </span>\r\n      </td>\r\n      <td className=\"aacciones\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary mr-2\"\r\n          onClick={() => redireccionarEdicion(producto)}\r\n        >\r\n          Editar\r\n        </button>\r\n        <button\r\n          className=\"btn btn-danger\"\r\n          type=\"button\"\r\n          onClick={() => handleButton(id)}\r\n        >\r\n          Eliminar\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default Producto;\r\n","import React from \"react\";\r\nimport Producto from \"./Producto\";\r\nimport { obtenerProductosAction } from \"../redux/productosDucks\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst Productos = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  React.useEffect(() => {\r\n    const cargarProductos = () => dispatch(obtenerProductosAction());\r\n\r\n    cargarProductos();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const productos = useSelector((store) => store.productos.productos);\r\n  const error = useSelector((store) => store.productos.error);\r\n  const cargando = useSelector((store) => store.productos.loading);\r\n\r\n  return (\r\n    <>\r\n      <h2 className=\"text-center my-5\">Listado de Productos</h2>\r\n      {error ? (\r\n        <p className=\"font-weight-bold alert alert-danger text-center mt-4\">\r\n          Hubo un error\r\n        </p>\r\n      ) : null}\r\n\r\n      {cargando ? <p className=\"text-center\">Cargando</p> : null}\r\n      <table className=\"table table-striped\">\r\n        <thead className=\"bg-primary table-dark\">\r\n          <tr>\r\n            <th scope=\"col\">Nombre</th>\r\n            <th scope=\"col\">Precio</th>\r\n            <th scope=\"col\">Acciones</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {productos.length === 0 ? (\r\n            <tr>\r\n              <td col-span=\"3\">No hay productos</td>\r\n            </tr>\r\n          ) : (\r\n            productos.map((item) => <Producto key={item.id} producto={item} />)\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Productos;\r\n","//data inicial\r\nconst initialState = {\r\n  alerta: null,\r\n};\r\n\r\n//types\r\nconst MOSTRAR_ALERTA = \"MOSTRAR_ALERTA\";\r\nconst OCULTAR_ALERTA = \"OCULTAR_ALERTA\";\r\n\r\n//reducer\r\nexport default function alertasReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case MOSTRAR_ALERTA:\r\n      return {\r\n        ...state,\r\n        alerta: action.payload,\r\n      };\r\n    case OCULTAR_ALERTA:\r\n      return {\r\n        ...state,\r\n        alerta: null, \r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n//acciones\r\nexport const mostrarAlertaAction = (alerta) => (dispatch) => {\r\n  dispatch({\r\n    type: MOSTRAR_ALERTA,\r\n    payload: alerta,\r\n  });\r\n};\r\n\r\nexport const ocultarAlertaAction = () => (dispatch) => {\r\n  dispatch({\r\n    type: OCULTAR_ALERTA,\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport { crearNuevoProductoAction } from \"../redux/productosDucks\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport {\r\n  mostrarAlertaAction,\r\n  ocultarAlertaAction,\r\n} from \"../redux/alertasDucks\";\r\n\r\nconst NuevoProducto = ({ history }) => {\r\n  const [nombre, setNombre] = React.useState(\"\");\r\n  const [precio, setPrecio] = React.useState(0);\r\n\r\n  const cargando = useSelector((store) => store.productos.loading);\r\n  const error = useSelector((store) => store.productos.error);\r\n  const alerta = useSelector((store) => store.alertas.alerta);\r\n  const dispatch = useDispatch();\r\n\r\n  const agregarProducto = (producto) =>\r\n    dispatch(crearNuevoProductoAction(producto));\r\n\r\n  const submitNuevoProducto = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!nombre.trim() || precio <= 0) {\r\n      const alerta = {\r\n        msg: \"Todos los campos son obligatorios\",\r\n        classes: \"alert alert-danger text-center text-uppercase p-3\",\r\n      };\r\n\r\n      dispatch(mostrarAlertaAction(alerta));\r\n\r\n      return;\r\n    }\r\n\r\n    dispatch(ocultarAlertaAction());\r\n\r\n    agregarProducto({\r\n      nombre,\r\n      precio,\r\n      id: uuidv4(),\r\n    });\r\n\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"row justify-content-center\">\r\n      <div className=\"col-md-8\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <h2 className=\"text-center mb-4 font-weight-bold\">\r\n              Agregar Nuevo Producto\r\n            </h2>\r\n            {alerta ? <p className={alerta.classes}>{alerta.msg}</p> : null}\r\n            <form onSubmit={(e) => submitNuevoProducto(e)}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"nombre\">Nombre Producto</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Nombre Producto\"\r\n                  name=\"nombre\"\r\n                  value={nombre}\r\n                  onChange={(e) => setNombre(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"precio\">Precio Producto</label>\r\n                <input\r\n                  type=\"number\"\r\n                  min={0}\r\n                  className=\"form-control\"\r\n                  placeholder=\"Precio Producto\"\r\n                  name=\"precio\"\r\n                  value={precio}\r\n                  onChange={(e) => setPrecio(Number(e.target.value))}\r\n                />\r\n              </div>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-primary font-weight-bold text-uppercase d-block w-100\"\r\n              >\r\n                Agregar\r\n              </button>\r\n            </form>\r\n            {cargando ? (\r\n              <p className=\"mt-4 p-2 text-center\">Cargando...</p>\r\n            ) : null}\r\n            {error ? (\r\n              <p className=\"alert alert-danger p-2 mt-4 text-center\">\r\n                Hubo un error\r\n              </p>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NuevoProducto;\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { editarProductoAction } from \"../redux/productosDucks\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst EditarProducto = () => {\r\n  const producto = useSelector((store) => store.productos.productoEditar);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const [productoEditar, setProductoEditar] = React.useState({\r\n    nombre: \"\",\r\n    precio: \"\",\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    setProductoEditar(producto);\r\n  }, [producto]);\r\n\r\n  if (!producto) history.push(\"/\");\r\n  const { nombre, precio } = productoEditar;\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!nombre.trim() || precio <= 0) {\r\n      return;\r\n    }\r\n\r\n    dispatch(editarProductoAction(productoEditar));\r\n    history.push(\"/\");\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"row justify-content-center\">\r\n      <div className=\"col-md-8\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <h2 className=\"text-center mb-4 font-weight-bold\">\r\n              Editar Producto\r\n            </h2>\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"nombre\">Nombre Producto</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Nombre Producto\"\r\n                  name=\"nombre\"\r\n                  value={nombre}\r\n                  onChange={(e) =>\r\n                    setProductoEditar({\r\n                      ...productoEditar,\r\n                      [e.target.name]: e.target.value,\r\n                    })\r\n                  }\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"precio\">Precio Producto</label>\r\n                <input\r\n                  type=\"number\"\r\n                  min={0}\r\n                  className=\"form-control\"\r\n                  placeholder=\"Precio Producto\"\r\n                  name=\"precio\"\r\n                  value={precio}\r\n                  onChange={(e) =>\r\n                    setProductoEditar({\r\n                      ...productoEditar,\r\n                      [e.target.name]: Number(e.target.value),\r\n                    })\r\n                  }\r\n                />\r\n              </div>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-primary font-weight-bold text-uppercase d-block w-100\"\r\n              >\r\n                Guardar Cambios\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditarProducto;\r\n","import React from \"react\";\nimport Header from \"./components/Header\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n} from \"react-router-dom\";\nimport Productos from \"./components/Productos\";\nimport NuevoProducto from \"./components/NuevoProducto\";\nimport EditarProducto from \"./components/EditarProducto\";\n\n\nfunction App() {\n  return (\n    <Router>\n      <Header />\n      <div className=\"container mt-5\">\n        <Switch>\n          <Route exact path=\"/\" component={Productos}/>\n          <Route exact path=\"/productos/nuevo\" component={NuevoProducto}/>\n          <Route exact path=\"/productos/editar/:id\" component={EditarProducto}/>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import { createStore, applyMiddleware, combineReducers, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport alertasReducer from \"./alertasDucks\";\r\nimport productosReducer from \"./productosDucks\";\r\n\r\nconst rootReducer = combineReducers({\r\n  productos: productosReducer,\r\n  alertas: alertasReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport default function generateStore() {\r\n  const store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(thunk))\r\n  );\r\n  return store;\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n//redux\nimport { Provider } from \"react-redux\";\nimport generateStore from \"./redux/store\";\n\nconst store = generateStore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}